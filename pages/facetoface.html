<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>italkyAI • Tercüman</title>
  <link rel="icon" href="data:," />
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">

  <style>
    :root{
      --text: rgba(255,255,255,.95);
      --muted: rgba(255,255,255,.65);

      /* Mat Premium Renkler */
      --indigo: #6366f1;
      --purple: #a855f7;
      --pink: #ec4899;
      --blue: #3b82f6;

      --sheetBg: rgba(12, 12, 16, 0.95);
      --border: rgba(255,255,255,0.12);
    }

    *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; }
    html,body{ margin:0; padding:0; width:100%; height:100dvh; overflow:hidden; font-family:'Outfit', sans-serif; }

    body{
      background: #030014;
      background-image: 
        radial-gradient(at 0% 0%, rgba(59, 130, 246, 0.15) 0px, transparent 50%),
        radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.15) 0px, transparent 50%);
      color: var(--text);
    }

    .frame{
      width:100%; max-width:480px; height:100%; margin:0 auto;
      position:relative; overflow:hidden;
      display: flex; flex-direction: column;
    }

    /* Geri Butonu */
    .back{
      position:absolute; top: 14px; left: 14px; z-index: 100;
      width: 44px; height: 44px; border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(20,20,25,.6);
      color: #fff; font-size: 20px; font-weight: 700;
      display:flex; align-items:center; justify-content:center;
      cursor:pointer; backdrop-filter: blur(12px);
      transition: transform 0.2s;
    }
    .back:active{ transform: scale(0.95); }

    /* Ana Bölümleme */
    .split{
      flex: 1;
      display:grid;
      grid-template-rows: 1fr auto 1fr;
      padding: 10px;
      gap: 0; /* Dalga araya girecek */
    }

    /* --- GEMINI WAVE ANIMATION (ORTA BÖLÜM) --- */
    .gemini-wave-container {
      position: relative;
      height: 80px; /* Dalga yüksekliği */
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
      pointer-events: none;
      margin: -20px 0; /* Kartların üzerine taşsın */
    }

    /* SVG Dalgalar */
    .gemini-wave {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 0 15px rgba(99, 102, 241, 0.4));
    }
    
    .wave-path {
      fill: none;
      stroke-width: 4;
      stroke-linecap: round;
      opacity: 0.8;
      /* 4 Renkli Geçiş */
      stroke: url(#gradient); 
      animation: waveMove 3s ease-in-out infinite alternate;
    }

    /* Katmanlı Dalgalar (Derinlik için) */
    .wave-path:nth-child(1) { animation-duration: 3s; opacity: 0.5; stroke-width: 2; }
    .wave-path:nth-child(2) { animation-duration: 2.5s; opacity: 0.7; stroke-width: 3; }
    .wave-path:nth-child(3) { animation-duration: 2s; opacity: 0.9; stroke-width: 4; }

    /* Dinleme Modu (Hızlı Animasyon) */
    .frame.listening .wave-path {
      animation-duration: 0.5s !important;
      stroke-width: 5;
      filter: drop-shadow(0 0 20px rgba(236, 72, 153, 0.6));
    }

    @keyframes waveMove {
      0% { d: path("M0,40 Q250,10 500,40 T1000,40"); }
      50% { d: path("M0,40 Q250,70 500,40 T1000,40"); }
      100% { d: path("M0,40 Q250,10 500,40 T1000,40"); }
    }
    
    /* --- KARTLAR (SIDES) --- */
    .side{
      border-radius: 32px;
      border: 1px solid var(--border);
      background: rgba(15, 15, 20, 0.75);
      backdrop-filter: blur(20px);
      overflow:hidden;
      display:flex; flex-direction:column;
      position:relative;
      box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5);
    }

    /* Üst Kart (Ters Dönmüş) */
    .side.top{ 
      transform: rotate(180deg); 
      margin-bottom: 10px;
      border-bottom: 1px solid rgba(255,255,255,0.05);
    }

    /* Alt Kart (Düz) */
    .side.bottom{
      margin-top: 10px;
      background: linear-gradient(180deg, rgba(20,20,30,0.8), rgba(10,10,15,0.95));
    }

    /* Bar (Dil Seçimi) */
    .bar{
      display:flex; align-items:center; justify-content:space-between;
      padding: 16px;
      z-index: 10;
    }

    .langBtn{
      height: 48px;
      border-radius: 16px;
      background: rgba(255,255,255,0.08);
      border: 1px solid rgba(255,255,255,0.1);
      color:#fff;
      font-weight: 700; font-size: 14px;
      padding: 0 16px;
      display:flex; align-items:center; gap:10px;
      cursor:pointer; min-width: 140px; justify-content: space-between;
      transition: background 0.2s;
    }
    .langBtn:active{ background: rgba(255,255,255,0.15); }

    .btnIcon{
      width: 48px; height: 48px;
      border-radius: 16px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1);
      display:flex; align-items:center; justify-content:center;
      cursor:pointer;
    }
    .btnIcon svg{ width: 24px; height: 24px; stroke: #fff; fill:none; stroke-width: 2; }
    
    /* İçerik Alanı */
    .content{
      flex: 1; padding: 16px; overflow-y:auto;
      display:flex; flex-direction:column; gap: 12px;
      scrollbar-width:none;
    }

    /* Baloncuklar */
    .bubble{
      padding: 14px 18px; border-radius: 20px;
      font-weight: 600; font-size: 15px; line-height: 1.4;
      max-width: 90%;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }
    .bubble.me{ 
      align-self:flex-end; text-align:right; 
      background: linear-gradient(135deg, var(--indigo), var(--purple));
      color: #fff; border: none;
    }
    .bubble.them{ 
      align-self:flex-start; 
      background: rgba(255,255,255,0.1); 
      border: 1px solid rgba(255,255,255,0.1);
      color: #eee;
    }

    /* Mikrofon Alanı (Ortada değil, altta sabit) */
    .micDock{
      display:flex; justify-content:center; padding-bottom: 20px;
    }
    .micBtnMain{
      width: 70px; height: 70px;
      border-radius: 24px;
      background: linear-gradient(135deg, var(--blue), var(--indigo));
      border: none;
      display:flex; align-items:center; justify-content:center;
      box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4);
      cursor: pointer; transition: transform 0.2s;
    }
    .micBtnMain:active{ transform: scale(0.95); }
    .micBtnMain svg{ width: 32px; height: 32px; stroke: #fff; stroke-width: 2; fill:none; }

    /* Üst Taraf Mikrofonu (Ters) */
    .side.top .micDock { transform: rotate(180deg); } 

    /* MARKALAR (SADECE ORTADA LOGO YOK, TEMIZ) */
    /* Eski brandTop ve brandBottom kaldırıldı */

    /* --- DİL SEÇİM MENÜSÜ (SHEET) --- */
    .sheetOverlay{
      position: fixed; inset: 0; z-index: 9999;
      background: rgba(0,0,0,0.7); backdrop-filter: blur(10px);
      display:none; align-items:flex-end; justify-content:center;
      padding: 10px;
    }
    .sheetOverlay.show{ display:flex; animation: fadeIn 0.2s ease; }

    .sheet{
      width: 100%; max-width: 480px;
      background: var(--sheetBg);
      border: 1px solid var(--border);
      border-radius: 28px;
      box-shadow: 0 -10px 40px rgba(0,0,0,0.8);
      overflow:hidden;
      animation: slideUp 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
    }

    /* Eğer Üst Menüden açıldıysa, Sheet'i TERS ÇEVİR ve YUKARIDAN İNDİR */
    .sheetOverlay.inverted {
      align-items: flex-start; /* Yukarı yasla */
    }
    .sheetOverlay.inverted .sheet {
      transform: rotate(180deg); /* Menüyü ters çevir ki kullanıcıya düz gelsin */
      animation: slideDown 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
      order: -1; /* Sıralamayı düzelt */
    }
    /* İçerik ters dönmesin diye tekrar çeviriyoruz */
    .sheetOverlay.inverted .sheet > * {
       transform: rotate(180deg); 
    }
    /* ... Hayır, en kolayı tüm sheet'i 180 çevirmek yerine, 
       Üst menü için özel bir stil yapıp kullanıcıya "DÜZ" göstermektir. 
       Telefonda karşılıklı oturan kişi zaten kendi ekranına bakıyor. 
       Biz bu menüyü "düz" açarsak, telefonu tutan kişi rahatça seçer. */
       
    .sheetHead{
      padding: 16px; border-bottom: 1px solid var(--border);
      display:flex; justify-content:space-between; align-items:center;
    }
    .sheetTitle{ font-size: 16px; font-weight: 700; color: #fff; }
    
    .sheetList{
      max-height: 50vh; overflow-y:auto; padding: 10px;
    }
    .sheetRow{
      padding: 14px; border-radius: 12px;
      display:flex; justify-content:space-between;
      color: rgba(255,255,255,0.8); font-weight: 500;
      cursor: pointer;
    }
    .sheetRow:active{ background: rgba(255,255,255,0.1); }
    .sheetRow.selected{ color: var(--indigo); font-weight: 700; background: rgba(99, 102, 241, 0.1); }

    @keyframes fadeIn { from{opacity:0;} to{opacity:1;} }
    @keyframes slideUp { from{transform:translateY(100%);} to{transform:translateY(0);} }
    
  </style>
</head>

<body>
  <div class="frame" id="frameRoot">
    <button class="back" id="backBtn" aria-label="Geri">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
    </button>

    <div class="split">

      <section class="side top" id="sideTop">
        <div class="bar">
          <button class="langBtn" id="topLangBtn" type="button">
            <span id="topLangTxt">English</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>
          
          <button class="btnIcon" id="topSpeak">
             <svg viewBox="0 0 24 24"><path d="M11 5L6 9H3v6h3l5 4z"/><path d="M15 9a4 4 0 0 1 0 6"/><path d="M17.5 6.5a7 7 0 0 1 0 11"/></svg>
          </button>
        </div>

        <div class="content" id="topBody">
          <div class="bubble them">Hello! How can I help you today?</div>
        </div>

        <div class="micDock">
          <button class="micBtnMain" id="topMic">
            <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
          </button>
        </div>
      </section>

      <div class="gemini-wave-container">
        <svg class="gemini-wave" viewBox="0 0 1000 80" preserveAspectRatio="none">
          <defs>
            <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" /> <stop offset="33%" style="stop-color:#a855f7;stop-opacity:1" /> <stop offset="66%" style="stop-color:#ec4899;stop-opacity:1" /> <stop offset="100%" style="stop-color:#f97316;stop-opacity:1" /> </linearGradient>
          </defs>
          <path class="wave-path" d="M0,40 Q250,10 500,40 T1000,40"></path>
          <path class="wave-path" d="M0,40 Q250,70 500,40 T1000,40"></path>
          <path class="wave-path" d="M0,40 Q250,40 500,40 T1000,40"></path>
        </svg>
      </div>

      <section class="side bottom" id="sideBottom">
        <div class="bar">
          <button class="langBtn" id="botLangBtn" type="button">
            <span id="botLangTxt">Türkçe</span>
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 9l6 6 6-6"/></svg>
          </button>

          <button class="btnIcon" id="botSpeak">
             <svg viewBox="0 0 24 24"><path d="M11 5L6 9H3v6h3l5 4z"/><path d="M15 9a4 4 0 0 1 0 6"/><path d="M17.5 6.5a7 7 0 0 1 0 11"/></svg>
          </button>
        </div>

        <div class="content" id="botBody">
          <div class="bubble me">Merhaba! Bugün size nasıl yardımcı olabilirim?</div>
        </div>

        <div class="micDock">
          <button class="micBtnMain" id="botMic">
            <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg>
          </button>
        </div>
      </section>

    </div>
  </div>

  <div class="sheetOverlay" id="langSheet">
    <div class="sheet">
      <div class="sheetHead">
        <div class="sheetTitle">Dil Seçin</div>
        <div style="cursor:pointer; padding:5px" id="sheetClose">✕</div>
      </div>
      <div class="sheetList" id="sheetList">
        <div class="sheetRow selected"><span>Türkçe</span><span>TR</span></div>
        <div class="sheetRow"><span>English</span><span>EN</span></div>
        <div class="sheetRow"><span>Deutsch</span><span>DE</span></div>
        <div class="sheetRow"><span>Français</span><span>FR</span></div>
        <div class="sheetRow"><span>Italiano</span><span>IT</span></div>
        <div class="sheetRow"><span>Español</span><span>ES</span></div>
        <div class="sheetRow"><span>Русский</span><span>RU</span></div>
        <div class="sheetRow"><span>العربية</span><span>AR</span></div>
      </div>
    </div>
  </div>

  <script type="module" src="/js/translate_page.js?v=11"></script>
</body>
</html>
