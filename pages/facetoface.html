<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"/>
  <title>italkyAI ‚Ä¢ Face to Face</title>
  <link rel="icon" href="data:," />

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800;900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-void:#02000a;
      --brand-burgundy:#580c1f;
      --brand-lacivert:#0f172a;

      --text:#fff;
      --muted:rgba(255,255,255,.45);

      --icon-bordo:#8b2635;
      --ai-grad: linear-gradient(135deg, #a5b4fc 0%, #6366f1 100%);

      --glass: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.12);

      --safe-top: env(safe-area-inset-top, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
    }

    *{box-sizing:border-box; -webkit-tap-highlight-color:transparent; outline:none;}
    html,body{margin:0; width:100%; height:100%; background:var(--bg-void); color:var(--text); font-family:Outfit,sans-serif; overflow:hidden;}
    .container{position:relative; width:100%; height:100%; display:flex; flex-direction:column;}

    /* PANELS */
    .half-screen{
      flex:1;
      position:relative;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:space-between;
      padding: calc(16px + var(--safe-top)) 18px calc(16px + var(--safe-bottom));
      gap:14px;
    }
    .half-screen.top{
      background: linear-gradient(to bottom, #1a0208, var(--brand-burgundy));
      transform: rotate(180deg);
    }
    .half-screen.bottom{
      background: linear-gradient(to bottom, var(--brand-lacivert), #02000a);
    }

    /* LANG PILL (opens sheet) */
    .lang-pill{
      background: rgba(0,0,0,.35);
      border:1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.88);
      padding:10px 16px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 800;
      letter-spacing:.2px;
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:8px;
      backdrop-filter: blur(10px);
      user-select:none;
    }

    /* CHAT */
    .chat-body{
      flex:1;
      width:100%;
      max-width:92%;
      display:flex;
      flex-direction:column;
      justify-content:center;
      gap:10px;
      overflow-y:auto;
      scrollbar-width:none;
      padding: 6px 0;
    }
    .chat-body::-webkit-scrollbar{display:none}

    .bubble{
      width:100%;
      text-align:center;
      word-break: break-word;
    }
    .bubble.them{
      color: rgba(255,255,255,.40);
      font-size: 16px;
      font-weight: 400;
      line-height:1.25;
    }
    .bubble.me{
      color: #fff;
      font-size: 26px;
      font-weight: 900;
      line-height:1.1;
      letter-spacing:.2px;
    }

    /* MIC + SPEAKER row */
    .speaker-row{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      padding-bottom: 4px;
    }

    .btn-speak{
      width:42px;
      height:42px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
      color: #fff;
      display:flex;
      align-items:center;
      justify-content:center;
      cursor:pointer;
      transition: .18s;
    }
    .btn-speak.muted{opacity:.35; border-color:transparent;}
    .btn-speak:active{transform:scale(.96);}

    .btn-mic{
      width:72px;
      height:72px;
      border-radius:22px;
      cursor:pointer;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(circle at 50% 50%, #2a020f 0%, #12000a 55%, #060006 100%);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 14px 30px rgba(0,0,0,.65);
      transition: transform .18s, border-color .18s;
    }
    .btn-mic svg{width:32px; height:32px; stroke: var(--icon-bordo); fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round;}
    .btn-mic.listening{
      transform: scale(1.06);
      border-color: rgba(139,38,53,.55);
    }
    .btn-mic:active{transform:scale(1.02);}

    /* CENTER HUB */
    .center-hub{
      position:absolute;
      top:50%;
      left:0;
      width:100%;
      height:64px;
      transform: translateY(-50%);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:120;
      pointer-events:none;
    }
    .logo-capsule{
      background:#02000a;
      border:1px solid rgba(255,255,255,.10);
      padding:10px 18px;
      border-radius:999px;
      display:flex;
      align-items:center;
      gap:10px;
      box-shadow: 0 24px 50px rgba(0,0,0,.75);
      pointer-events:auto;
      cursor:pointer;
    }
    .logo-text{font-family:"Space Grotesk",sans-serif; font-size:16px; font-weight:700; color:#fff;}
    .logo-ai{background:var(--ai-grad); -webkit-background-clip:text; -webkit-text-fill-color:transparent;}

    .wave-visual{
      position:absolute;
      display:flex;
      align-items:center;
      gap:4px;
      opacity:0;
      transition:.25s;
    }
    #frameRoot.listening .wave-visual{opacity:1;}
    .bar{width:3px; height:10px; border-radius:3px; background: rgba(165,180,252,.42); animation: bounce 0.9s infinite ease-in-out;}
    .bar:nth-child(2){animation-delay:.15s}
    .bar:nth-child(3){animation-delay:.28s}
    .bar:nth-child(4){animation-delay:.15s}
    .bar:nth-child(5){animation-delay:.0s}
    @keyframes bounce{0%,100%{height:10px} 50%{height:38px}}

    /* ===== Language Sheet (Bottom sheet) ===== */
    .sheet-overlay{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.78);
      backdrop-filter: blur(10px);
      z-index:1000;
      display:none;
      align-items:flex-end;
      justify-content:center;
    }
    .sheet-overlay.show{display:flex;}
    .sheet-overlay.fromTop{align-items:flex-start;}

    .sheet-card{
      width:100%;
      max-width:480px;
      background: #0a0a15;
      border-top: 1px solid rgba(255,255,255,.10);
      border-radius: 26px 26px 0 0;
      padding: 16px 16px 18px;
      max-height: 82vh;
      display:flex;
      flex-direction:column;
      overflow:hidden;
    }
    .sheet-overlay.fromTop .sheet-card{
      border-radius: 0 0 26px 26px;
      border-top:none;
      border-bottom: 1px solid rgba(255,255,255,.10);
    }

    .sheet-head{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .sheet-title{margin:0; font-size:16px; font-weight:900; letter-spacing:.2px;}
    .sheet-close{
      border:none; background:transparent; color:#fff; font-size:22px; cursor:pointer; opacity:.9;
    }
    .sheet-close:active{transform:scale(.96)}

    .sheet-search{
      width:100%;
      margin-top:12px;
      padding:12px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.28);
      color:#fff;
      font-size:13px;
      font-weight:600;
    }

    .sheet-list{
      flex:1;
      overflow:auto;
      margin-top:12px;
      padding-right:2px;
    }
    .sheetRow{
      padding:12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid rgba(255,255,255,.05);
      cursor:pointer;
      border-radius:14px;
    }
    .sheetRow:hover{background: rgba(255,255,255,.04);}
    .sheetRow.selected{background: rgba(139,38,53,.10); border:1px solid rgba(139,38,53,.22);}

    .sheetRow .left{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .sheetRow .flag{font-size:18px}
    .sheetRow .name{
      font-weight:800;
      font-size:13px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 240px;
    }
    .sheetRow .code{
      font-size:12px;
      opacity:.65;
      font-weight:800;
      text-transform:uppercase;
    }
  </style>
</head>

<body id="frameRoot">
  <div class="container">

    <!-- TOP (Other person) -->
    <div class="half-screen top">
      <button class="lang-pill" id="topLangBtn">
        <span id="topLangTxt">üåê English</span>
      </button>

      <div class="chat-body" id="topBody"></div>

      <div class="speaker-row">
        <button class="btn-speak" id="topSpeak" title="Ses (Mute)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M11 5L6 9H2v6h4l5 4V5z"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
          </svg>
        </button>

        <button class="btn-mic" id="topMic" title="Mikrofon">
          <svg viewBox="0 0 24 24">
            <path d="M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
            <path d="M19 11v1a7 7 0 0 1-14 0v-1"/>
            <path d="M12 19v3"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- CENTER HUB -->
    <div class="center-hub">
      <div class="wave-visual" aria-hidden="true">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
      </div>

      <div class="logo-capsule" id="backBtn" title="Geri">
        <span class="logo-text">‚Üê italky<span class="logo-ai">AI</span></span>
      </div>
    </div>

    <!-- BOTTOM (You) -->
    <div class="half-screen bottom">
      <div class="speaker-row">
        <button class="btn-mic" id="botMic" title="Mikrofon">
          <svg viewBox="0 0 24 24">
            <path d="M12 2a3 3 0 0 0-3 3v6a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3z"/>
            <path d="M19 11v1a7 7 0 0 1-14 0v-1"/>
            <path d="M12 19v3"/>
          </svg>
        </button>

        <button class="btn-speak" id="botSpeak" title="Ses (Mute)">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M11 5L6 9H2v6h4l5 4V5z"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
          </svg>
        </button>
      </div>

      <div class="chat-body" id="botBody"></div>

      <button class="lang-pill" id="botLangBtn">
        <span id="botLangTxt">üåê T√ºrk√ße</span>
      </button>
    </div>
  </div>

  <!-- Language Sheet -->
  <div class="sheet-overlay" id="langSheet">
    <div class="sheet-card">
      <div class="sheet-head">
        <h3 class="sheet-title" id="sheetTitle">Dil Se√ßin</h3>
        <button class="sheet-close" id="sheetClose" aria-label="Kapat">‚úï</button>
      </div>

      <input class="sheet-search" type="text" id="sheetQuery" placeholder="Dil ara (English, T√ºrk√ße, de, fr‚Ä¶)">
      <div class="sheet-list" id="sheetList"></div>
    </div>
  </div>

  <script type="module" src="/js/facetoface_page.js"></script>
</body>
</html>
