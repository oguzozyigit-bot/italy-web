<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI â€¢ Neural Translate</title>
  <style>
    :root {
      --ai-gradient: linear-gradient(135deg, #a5b4fc 0%, #6366f1 50%, #ec4899 100%);
      --glass: rgba(255, 255, 255, 0.03);
      --glass-border: rgba(255, 255, 255, 0.08);
    }

    #pageContent {
      height: 100%;
      display: flex;
      flex-direction: column;
      gap: 16px;
      overflow: hidden;
      padding-bottom: 20px;
    }

    /* --- 1. TOOLBAR: NEURAL SELECTOR --- */
    .toolbar {
      display: flex;
      gap: 10px;
      align-items: center;
      padding: 4px;
      background: rgba(255,255,255,0.02);
      border-radius: 20px;
      border: 1px solid var(--glass-border);
    }

    .langBtn {
      flex: 1; height: 50px; border-radius: 16px; border: none;
      background: transparent; color: #fff; font-weight: 900; font-size: 14px;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      cursor: pointer; transition: all 0.3s cubic-bezier(0.2, 1, 0.3, 1);
    }
    .langBtn:active { transform: scale(0.95); background: rgba(255,255,255,0.05); }

    #swapBtn {
      width: 44px; height: 44px; border-radius: 50%; border: 1px solid var(--glass-border);
      background: #000; color: #fff; font-size: 18px; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 0 15px rgba(99, 102, 241, 0.2);
    }

    /* --- 2. THE QUANTUM PANELS --- */
    .pane {
      flex: 1; display: flex; flex-direction: column; gap: 12px; min-height: 0;
    }

    /* GiriÅŸ Paneli: Bordo Derinlik */
    .panel {
      flex: 1; border-radius: 32px; border: 1px solid var(--glass-border);
      position: relative; overflow: hidden; display: flex; flex-direction: column;
      backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
    }
    .panel.top {
      background: radial-gradient(circle at top left, rgba(88,12,31,0.2) 0%, rgba(0,0,0,0.4) 100%);
    }
    /* Ã‡Ä±kÄ±ÅŸ Paneli: Ä°ndigo Derinlik */
    .panel.bottom {
      background: radial-gradient(circle at bottom right, rgba(30,58,138,0.2) 0%, rgba(0,0,0,0.4) 100%);
    }

    .panelHead {
      padding: 12px 16px; display: flex; align-items: center; justify-content: flex-end; gap: 10px;
    }

    .iconBtn {
      width: 42px; height: 42px; border-radius: 14px; border: 1px solid var(--glass-border);
      background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: 0.2s;
    }
    .iconBtn:active { transform: scale(0.9); }
    .iconBtn svg { width: 20px; height: 20px; stroke: #fff; stroke-width: 2.5; fill: none; }

    /* GiriÅŸ AlanÄ± */
    .inArea { flex: 1; padding: 0 20px 20px; }
    textarea {
      width: 100%; height: 100%; border: none; background: transparent;
      color: #fff; font-size: 18px; font-weight: 700; resize: none; outline: none;
      line-height: 1.4; font-family: 'Outfit', sans-serif;
    }
    textarea::placeholder { color: rgba(255,255,255,0.2); }

    /* Ã‡Ä±kÄ±ÅŸ AlanÄ± (Living Text) */
    .outArea {
      flex: 1; padding: 0 20px 20px; overflow-y: auto;
      font-size: 18px; font-weight: 800; color: #fff; line-height: 1.4;
      text-shadow: 0 0 20px rgba(255,255,255,0.1);
    }

    /* --- 3. NEURAL ACTION CENTER --- */
    .actions {
      display: flex; gap: 12px; padding: 0 4px;
    }
    #clearBtn {
      flex: 1; height: 54px; border-radius: 18px; border: 1px solid var(--glass-border);
      background: rgba(255,255,255,0.03); color: #fff; font-weight: 900; cursor: pointer;
    }
    #translateBtn {
      flex: 2; height: 54px; border-radius: 18px; border: none;
      background: var(--ai-gradient); color: #fff; font-weight: 900; font-size: 16px;
      box-shadow: 0 10px 30px rgba(99, 102, 241, 0.4); cursor: pointer;
      position: relative; overflow: hidden;
    }
    /* translateBtn Parlama Efekti */
    #translateBtn::after {
      content: ""; position: absolute; inset: 0;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transform: translateX(-100%); animation: sweep 3s infinite;
    }

    @keyframes sweep { 100% { transform: translateX(100%); } }

    /* --- 4. THE 2050 LANGUAGE SHEET --- */
    #langSheet {
      position: fixed; inset: 0; z-index: 999999; display: none;
      align-items: center; justify-content: center; padding: 20px;
      background: rgba(0,0,0,0.8); backdrop-filter: blur(20px);
    }
    #langSheet.show { display: flex; }

    .sheet {
      width: 100%; max-width: 400px; max-height: 80vh; border-radius: 32px;
      background: #000; border: 1px solid var(--glass-border);
      display: flex; flex-direction: column; overflow: hidden;
      box-shadow: 0 0 100px rgba(99, 102, 241, 0.3);
    }

    .sheetTop {
      padding: 20px; background: rgba(255,255,255,0.03);
      display: flex; flex-direction: column; gap: 15px;
    }
    #sheetQuery {
      height: 48px; border-radius: 16px; border: 1px solid var(--glass-border);
      background: rgba(255,255,255,0.05); color: #fff; padding: 0 16px; font-weight: 700;
    }

    #sheetList { flex: 1; overflow-y: auto; padding: 10px; scrollbar-width: none; }
    #sheetList::-webkit-scrollbar { display: none; }

    .sheetRow {
      padding: 16px; border-radius: 16px; display: flex; align-items: center; gap: 12px;
      cursor: pointer; transition: 0.2s;
    }
    .sheetRow:active { background: rgba(255,255,255,0.1); }
    .rowName { font-weight: 800; color: #fff; font-size: 15px; }

    /* Mic Animasyonu */
    .iconBtn.listening {
      border-color: #ec4899; background: rgba(236, 72, 153, 0.2);
      animation: pulse 1.5s infinite;
    }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(236,72,153,0.4); } 70% { box-shadow: 0 0 0 15px rgba(236,72,153,0); } 100% { box-shadow: 0 0 0 0 rgba(236,72,153,0); } }

    @keyframes rotateOrbit { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    @keyframes aiBreathe { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
  </style>
</head>

<body>
  <div id="pageContent">

    <div class="toolbar">
      <button class="langBtn" id="fromLangBtn">
        <span id="fromFlag">ðŸ‡¬ðŸ‡§</span>
        <span id="fromLangTxt">English</span>
      </button>
      <button id="swapBtn">â‡„</button>
      <button class="langBtn" id="toLangBtn">
        <span id="toFlag">ðŸ‡¹ðŸ‡·</span>
        <span id="toLangTxt">TÃ¼rkÃ§e</span>
      </button>
    </div>

    <div class="pane">
      <div class="panel top">
        <div class="panelHead">
          <button class="iconBtn" id="micIn">
            <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/></svg>
          </button>
          <button class="iconBtn" id="speakIn">
            <svg viewBox="0 0 24 24"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
          </button>
        </div>
        <div class="inArea">
          <textarea id="inText" placeholder="Zihnini buraya aktar..."></textarea>
        </div>
      </div>

      <div class="actions">
        <button id="clearBtn">TEMÄ°ZLE</button>
        <button id="translateBtn">Ã‡EVÄ°RÄ° ENGINE</button>
      </div>

      <div class="panel bottom">
        <div class="panelHead">
          <button class="iconBtn" id="speakOut">
            <svg viewBox="0 0 24 24"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
          </button>
        </div>
        <div class="outArea" id="outText">â€”</div>
      </div>
    </div>
  </div>

  <div id="langSheet">
    <div class="sheet">
      <div class="sheetTop">
        <div style="font-weight:900; color:rgba(255,255,255,0.5); font-size:12px; letter-spacing:1px;">NEURAL SELECTOR</div>
        <input id="sheetQuery" placeholder="Dil ara..." />
      </div>
      <div id="sheetList"></div>
      <button id="sheetClose" style="padding:20px; background:none; border:none; color:#ec4899; font-weight:900; cursor:pointer;">KAPAT</button>
    </div>
  </div>

  <div id="toast" style="position:fixed; bottom:100px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,0.8); padding:10px 20px; border-radius:20px; color:#fff; display:none; z-index:9999;"></div>

  <script type="module">
    import { mountShell } from "/js/ui_shell.js";
    import { bootPage } from "/js/ui_guard.js";
    mountShell();
    bootPage({ protectedPage:true, header:{ nameId:"userName", picId:"userPic" } });
  </script>
  <script type="module" src="/js/text_translate_page.js?v=5000"></script>
</body>
</html>
