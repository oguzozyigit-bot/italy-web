<!-- FILE: /pages/teacher_select.html -->
<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
<title>italkyAI ‚Ä¢ Dil Se√ß</title>
<link rel="icon" href="data:," />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800;900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">

<style>
#pageContent{ height:100%; }

/* ‚úÖ √úst-alt e≈üit bo≈üluk */
.wrap{
  height:100%;
  padding:16px 16px; /* saƒü-sol e≈üit */
  overflow:hidden;
  display:flex;
}

/* ‚úÖ Grid alanƒ± t√ºm orta alanƒ± doldurur */
.grid{
  flex:1;
  width:100%;
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap:18px;                 /* yan ve alt bo≈üluk e≈üit */
  grid-auto-rows: var(--cardH);
}

/* ‚úÖ Kart b√ºy√ºd√º */
.card{
  height: var(--cardH);
  border-radius:30px;
  border:1px solid rgba(255,255,255,0.12);
  background: linear-gradient(
    145deg,
    rgba(255,255,255,0.08),
    rgba(255,255,255,0.03)
  );
  padding:22px;
  cursor:pointer;
  transition:.25s;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  position:relative;
}
.card:active{ transform:scale(.95); }

/* saƒü √ºst k√º√ß√ºk rozet */
.badge{
  position:absolute;
  top:18px;
  right:18px;
  width:42px;
  height:42px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  border:1px solid rgba(255,255,255,.15);
  background:rgba(0,0,0,.18);
  backdrop-filter:blur(8px);
}

/* b√ºy√ºk bayrak */
.flag{
  position:absolute;
  top:28px;
  left:28px;
  font-size: var(--flagSize);
  line-height:1;
  filter: drop-shadow(0 0 12px rgba(255,255,255,.18));
}

/* isim */
.name{
  font-size: var(--nameSize);
  font-weight:1000;
  letter-spacing:-0.5px;
  line-height:1.05;
  margin-top: calc(var(--flagSize) * 0.9);
}

/* alt a√ßƒ±klama */
.sub{
  margin-top:10px;
  font-size:14px;
  font-weight:900;
  color:rgba(255,255,255,.6);
}

/* toast */
.toast{
  position: fixed;
  left:50%;
  top:18px;
  transform:translateX(-50%) translateY(-120px);
  background:rgba(10,10,18,.92);
  border:1px solid rgba(165,180,252,.35);
  padding:10px 14px;
  border-radius:999px;
  color:#fff;
  font-weight:900;
  font-size:12px;
  transition:.28s;
}
.toast.show{ transform:translateX(-50%) translateY(0); }
</style>
</head>

<body>

<main id="pageContent">
  <div class="wrap">
    <div class="grid" id="teacherGrid"></div>
  </div>
</main>

<div class="toast" id="toast"></div>

<script type="module">
import { mountShell } from "/js/ui_shell.js";
mountShell({ scroll:"none" });

const KEY_TEACHER="italky_teacher_pref";
const KEY_LEVEL_DONE="italky_level_done";
const KEY_PLAN="italky_plan_pref";
const KEY_MINS="italky_lesson_mins";

const TEACHERS=[
{ id:"dora",flag:"üá¨üáß",title:"ƒ∞ngilizce √ñƒüretmeni",name:"Dora"},
{ id:"ayda",flag:"üá©üá™",title:"Almanca √ñƒüretmeni",name:"Ayda"},
{ id:"jale",flag:"üá´üá∑",title:"Fransƒ±zca √ñƒüretmeni",name:"Jale"},
{ id:"ozan",flag:"üá™üá∏",title:"ƒ∞spanyolca √ñƒüretmeni",name:"Ozan"},
{ id:"sencer",flag:"üáÆüáπ",title:"ƒ∞talyanca √ñƒüretmeni",name:"Sencer"},
{ id:"sungur",flag:"üá∑üá∫",title:"Rus√ßa √ñƒüretmeni",name:"Sungur"},
{ id:"huma",flag:"üáØüáµ",title:"Japonca √ñƒüretmeni",name:"H√ºma"},
{ id:"umay",flag:"üá®üá≥",title:"√áince √ñƒüretmeni",name:"Umay"}
];

const $=id=>document.getElementById(id);

function goNext(){
const levelDone=(localStorage.getItem(KEY_LEVEL_DONE)||"")==="1";
if(!levelDone){location.href="/pages/level_test.html";return;}
const plan=(localStorage.getItem(KEY_PLAN)||"").trim();
const mins=(localStorage.getItem(KEY_MINS)||"").trim();
if(plan&&mins){location.href="/pages/teacher_course.html";}
else{location.href="/pages/plan_select.html";}
}

function render(){
const grid=$("teacherGrid");
grid.innerHTML=TEACHERS.map(t=>`
<div class="card" data-id="${t.id}">
<div class="badge">${t.flag}</div>
<div class="flag">${t.flag}</div>
<div class="name">${t.name}</div>
<div class="sub">${t.title}</div>
</div>`).join("");

grid.querySelectorAll(".card").forEach(c=>{
c.addEventListener("click",()=>{
localStorage.setItem(KEY_TEACHER,c.getAttribute("data-id"));
goNext();
});
});
}

/* ‚úÖ Kart boyutunu ekranƒ±n orta alanƒ±na g√∂re ayarla */
function fit(){
const headerH=document.querySelector(".premium-header").offsetHeight;
const footerH=document.querySelector(".premium-footer").offsetHeight;
const usable=window.innerHeight-headerH-footerH-32;

const rows=4;
const gap=18;

let cardH=(usable-(gap*(rows-1)))/rows;
cardH=Math.max(170,Math.min(240,cardH));

document.documentElement.style.setProperty("--cardH",cardH+"px");
document.documentElement.style.setProperty("--flagSize",(cardH*0.40)+"px");
document.documentElement.style.setProperty("--nameSize",(cardH*0.18)+"px");
}

render();
requestAnimationFrame(()=>fit());
window.addEventListener("resize",fit);
</script>

</body>
</html>
