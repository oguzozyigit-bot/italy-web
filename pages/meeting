<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI â€¢ Neural Conference</title>
  <style>
    :root {
      --ai-gradient: linear-gradient(135deg, #a5b4fc 0%, #6366f1 50%, #ec4899 100%);
      --glass: rgba(255, 255, 255, 0.05);
      --shell-safe: 170px; /* Alt bar koruma mesafesi */
    }

    /* Arka plan kalkanÄ± (TÄ±klama engeli fix) */
    .nebula-bg, .stars-field { pointer-events: none !important; }

    #pageContent {
      height: calc(100vh - var(--shell-safe));
      display: flex; flex-direction: column; gap: 10px;
      padding: 5px 0 10px; box-sizing: border-box; overflow: hidden;
      position: relative; z-index: 10;
    }

    /* 1. NEURAL CONTACTS (REHBER) */
    .contacts-panel {
      background: var(--glass); border-radius: 24px; padding: 12px;
      border: 1px solid rgba(255,255,255,0.08); flex-shrink: 0;
      backdrop-filter: blur(20px);
    }
    .panel-tag { font-size: 10px; font-weight: 1000; color: rgba(255,255,255,0.4); letter-spacing: 2px; margin-bottom: 10px; }
    
    .h-scroll { display: flex; gap: 12px; overflow-x: auto; scrollbar-width: none; padding-bottom: 5px; }
    .h-scroll::-webkit-scrollbar { display: none; }

    .contact-card { flex: 0 0 55px; display: flex; flex-direction: column; align-items: center; gap: 6px; cursor: pointer; pointer-events: auto !important; }
    .avatar-frame {
      width: 48px; height: 48px; border-radius: 16px; background: rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center;
      font-size: 20px; transition: 0.2s;
    }
    .contact-card:active .avatar-frame { transform: scale(0.9); border-color: #6366f1; }
    .contact-card span { font-size: 9px; font-weight: 800; color: #fff; width: 100%; text-align: center; overflow: hidden; }

    .add-btn { flex: 0 0 48px; height: 48px; border-radius: 16px; border: 2px dashed rgba(255,255,255,0.2); display: flex; align-items: center; justify-content: center; color: #fff; cursor: pointer; pointer-events: auto !important; }

    /* 2. LIVE MEETING STATUS */
    .room-info {
      background: rgba(88, 12, 31, 0.15); border-radius: 18px; padding: 10px 15px;
      border: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center;
    }
    .room-id { font-weight: 900; color: #fff; font-size: 13px; }
    .live-count { font-size: 10px; color: #34d399; font-weight: 900; display: flex; align-items: center; gap: 4px; }
    .dot { width: 6px; height: 6px; background: #34d399; border-radius: 50%; animation: pulse 1s infinite; }

    /* 3. NEURAL CHAT STREAM */
    .chat-stream {
      flex: 1; background: rgba(0,0,0,0.25); border-radius: 28px;
      border: 1px solid rgba(255,255,255,0.03); overflow-y: auto;
      padding: 15px; display: flex; flex-direction: column; gap: 12px;
    }
    .bubble { max-width: 85%; padding: 12px 15px; border-radius: 22px; position: relative; }
    .bubble.remote { background: rgba(255,255,255,0.06); align-self: flex-start; border-bottom-left-radius: 4px; }
    .bubble.me { background: var(--ai-gradient); align-self: flex-end; border-bottom-right-radius: 4px; }
    
    .user-name { font-size: 10px; font-weight: 1000; color: #a5b4fc; margin-bottom: 4px; display: block; }
    .txt-orig { font-size: 14px; font-weight: 700; color: #fff; }
    .txt-trans { font-size: 12px; font-weight: 600; color: rgba(255,255,255,0.6); margin-top: 6px; border-top: 1px solid rgba(255,255,255,0.08); padding-top: 4px; font-style: italic; }

    /* 4. ACTIONS */
    .controls { display: flex; justify-content: center; gap: 15px; padding: 10px 0; }
    .c-btn {
      width: 54px; height: 54px; border-radius: 50%; background: rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center;
      cursor: pointer; pointer-events: auto !important; transition: 0.2s;
    }
    .c-btn.active { background: #580c1f; border-color: #ff3366; }
    .c-btn svg { width: 22px; height: 22px; stroke: #fff; fill: none; stroke-width: 2.5; }
    .c-exit { background: #fff; } .c-exit svg { stroke: #000; }

    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
  </style>
</head>

<body>
  <div id="pageContent">

    <div class="contacts-panel">
      <div class="panel-tag">NEURAL CONTACTS</div>
      <div class="h-scroll">
        <div class="add-btn" id="addContactAction">+</div>
        <div class="contact-card" onclick="inviteUser('OÄŸuz Ã–zyiÄŸit')">
          <div class="avatar-frame">ðŸ‘‘</div>
          <span>OÄŸuz Ã–.</span>
        </div>
        <div class="contact-card" onclick="inviteUser('Selden Ã–zyiÄŸit')">
          <div class="avatar-frame">ðŸ‘¸</div>
          <span>Selden Ã–.</span>
        </div>
        <div class="contact-card" onclick="inviteUser('Hans MÃ¼ller')">
          <div class="avatar-frame">ðŸ‡©ðŸ‡ª</div>
          <span>Hans M.</span>
        </div>
        <div class="contact-card" onclick="inviteUser('Yuki Tanaka')">
          <div class="avatar-frame">ðŸ‡¯ðŸ‡µ</div>
          <span>Yuki T.</span>
        </div>
      </div>
    </div>

    <div class="room-info">
      <div class="room-id">HUB: #OZY-2026</div>
      <div class="live-count"><div class="dot"></div> 3 KATILIMCI AKTÄ°F</div>
    </div>

    <div class="chat-stream" id="chatStream">
      <div class="bubble remote">
        <span class="user-name">HANS MÃœLLER</span>
        <div class="txt-orig">Das System arbeitet unglaublich schnell!</div>
        <div class="txt-trans">Sistem inanÄ±lmaz hÄ±zlÄ± Ã§alÄ±ÅŸÄ±yor!</div>
      </div>
      
      <div class="bubble me">
        <div class="txt-orig">Kesinlikle Hans, 20 kiÅŸiyle bile stabiliz.</div>
        <div class="txt-trans">Absolutely Hans, we are stable even with 20 people.</div>
      </div>
    </div>

    <div class="controls">
      <div class="c-btn" id="micToggle">
        <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
      </div>
      <div class="c-btn" id="soundToggle">
        <svg viewBox="0 0 24 24"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
      </div>
      <div class="c-btn c-exit" onclick="location.href='/pages/home.html'">
        <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
      </div>
    </div>

  </div>

  <script type="module">
    import { mountShell } from "/js/ui_shell.js";
    import { bootPage } from "/js/ui_guard.js";

    mountShell({ scroll: "none" }); 
    bootPage({ protectedPage:true, header:{ nameId:"userName", picId:"userPic" } });

    // âœ… TIKLAMA GARANTÄ°SÄ° (Delegation)
    document.body.addEventListener('click', (e) => {
      const target = e.target.closest('[id]');
      if (!target) return;

      if (target.id === 'addContactAction') {
        const id = prompt("Eklenecek Ãœye NumarasÄ±nÄ± (ID) Girin:");
        if(id) alert(id + " rehbere kaydedildi ve davet gÃ¶nderildi.");
      }
      
      if (target.id === 'micToggle' || target.id === 'soundToggle') {
        target.classList.toggle('active');
      }
    });

    window.inviteUser = (name) => alert(name + " odaya davet edildi!");

  </script>
</body>
</html>
