<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI • Global Meeting</title>
  <style>
    :root {
      --ai-gradient: linear-gradient(135deg, #a5b4fc 0%, #6366f1 50%, #ec4899 100%);
      --glass: rgba(255, 255, 255, 0.05);
    }

    #pageContent {
      height: calc(100vh - 180px);
      display: flex; flex-direction: column; gap: 15px;
      padding: 10px 0 20px; box-sizing: border-box; overflow: hidden;
    }

    /* 1. TOPLANTI DURUMU VE ÜYE EKLEME */
    .meeting-header {
      background: var(--glass); border-radius: 24px; padding: 15px;
      border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(20px);
    }
    .invite-box {
      display: flex; gap: 8px; margin-top: 10px;
    }
    .invite-box input {
      flex: 1; height: 44px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.1);
      background: rgba(0,0,0,0.3); color: #fff; padding: 0 12px; font-weight: 700; outline: none;
    }
    .invite-box button {
      padding: 0 15px; border-radius: 12px; border: none; background: var(--ai-gradient);
      color: #fff; font-weight: 1000; cursor: pointer;
    }

    /* 2. KATILIMCI LİSTESİ (YATAY) */
    .user-list {
      display: flex; gap: 10px; overflow-x: auto; padding: 5px 0;
      scrollbar-width: none;
    }
    .user-list::-webkit-scrollbar { display: none; }
    .user-chip {
      flex-shrink: 0; width: 60px; text-align: center;
    }
    .user-chip .avatar {
      width: 50px; height: 50px; border-radius: 50%; border: 2px solid #6366f1;
      padding: 2px; background: #000; margin-bottom: 5px;
    }
    .user-chip span { font-size: 10px; font-weight: 800; color: #fff; }

    /* 3. NEURAL CHAT ALANI */
    .chat-area {
      flex: 1; background: rgba(0,0,0,0.2); border-radius: 30px;
      border: 1px solid rgba(255,255,255,0.05); overflow-y: auto;
      padding: 15px; display: flex; flex-direction: column; gap: 12px;
    }
    .msg { max-width: 85%; padding: 12px 16px; border-radius: 20px; font-size: 14px; line-height: 1.4; }
    .msg.remote { background: rgba(255,255,255,0.05); align-self: flex-start; color: #fff; border-bottom-left-radius: 4px; }
    .msg.me { background: var(--ai-gradient); align-self: flex-end; color: #fff; border-bottom-right-radius: 4px; }
    .msg .translation { font-size: 11px; opacity: 0.7; margin-top: 5px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 5px; }

    /* 4. CONTROLS */
    .meeting-controls {
      display: flex; justify-content: center; gap: 20px; padding: 10px 0;
    }
    .ctrl-btn {
      width: 60px; height: 60px; border-radius: 50%; border: 1px solid rgba(255,255,255,0.1);
      background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: 0.3s;
    }
    .ctrl-btn.active { background: #580c1f; border-color: #ef4444; }
    .ctrl-btn svg { width: 24px; height: 24px; stroke: #fff; fill: none; stroke-width: 2; }

  </style>
</head>

<body>
  <div id="pageContent">
    
    <div class="meeting-header">
      <div style="display:flex; justify-content:space-between; align-items:center">
        <div style="font-weight:1000; color:#fff; font-size:14px">ODANO: #55023</div>
        <div style="font-size:11px; color:#34d399; font-weight:900">● 4 KATILIMCI AKTİF</div>
      </div>
      <div class="invite-box">
        <input type="number" id="inviteID" placeholder="Üye Numarası Gir..." />
        <button id="addMemberBtn">DAVET ET</button>
      </div>
    </div>

    <div class="user-list">
      <div class="user-chip">
        <div class="avatar"><img src="https://i.pravatar.cc/150?u=1" style="width:100%; border-radius:50%"></div>
        <span>Sen</span>
      </div>
      <div class="user-chip">
        <div class="avatar"><img src="https://i.pravatar.cc/150?u=2" style="width:100%; border-radius:50%"></div>
        <span>Oğuz</span>
      </div>
      <div class="user-chip">
        <div class="avatar"><img src="https://i.pravatar.cc/150?u=3" style="width:100%; border-radius:50%"></div>
        <span>Hans</span>
      </div>
      <div class="user-chip">
        <div class="avatar"><img src="https://i.pravatar.cc/150?u=4" style="width:100%; border-radius:50%"></div>
        <span>Yuki</span>
      </div>
    </div>

    <div class="chat-area" id="meetingChat">
      <div class="msg remote">
        <b>Hans:</b> Hello everyone, can you hear me?
        <div class="translation">Selam millet, beni duyabiliyor musunuz?</div>
      </div>
      <div class="msg me">
        Evet Hans, her şey harika!
        <div class="translation">Yes Hans, everything is great!</div>
      </div>
    </div>

    <div class="meeting-controls">
      <div class="ctrl-btn" id="toggleMic">
        <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
      </div>
      <div class="ctrl-btn" id="toggleAudio">
        <svg viewBox="0 0 24 24"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
      </div>
      <div class="ctrl-btn active" id="leaveRoom" onclick="location.href='/pages/home.html'">
        <svg viewBox="0 0 24 24" style="stroke:#fff"><path d="M18.36 6.64a9 9 0 1 1-12.73 0"/><line x1="12" y1="2" x2="12" y2="12"/></svg>
      </div>
    </div>

  </div>

  <script type="module">
    import { mountShell } from "/js/ui_shell.js";
    import { bootPage } from "/js/ui_guard.js";
    mountShell({ scroll: "none" }); 
    bootPage({ protectedPage:true, header:{ nameId:"userName", picId:"userPic" } });

    // Mock İşlemler
    document.getElementById('addMemberBtn').onclick = () => {
      const id = document.getElementById('inviteID').value;
      if(id) alert(id + " numaralı üyeye davet gönderildi.");
    };

    document.getElementById('toggleMic').onclick = function() {
      this.classList.toggle('active');
    };
  </script>
</body>
</html>
