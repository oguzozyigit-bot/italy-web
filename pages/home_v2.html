<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI ‚Ä¢ Meeting & Neural Contacts</title>
  <style>
    :root {
      --ai-gradient: linear-gradient(135deg, #a5b4fc 0%, #6366f1 50%, #ec4899 100%);
      --glass: rgba(255, 255, 255, 0.05);
      --shell-safe: 160px;
    }

    #pageContent {
      height: calc(100vh - var(--shell-safe));
      display: flex; flex-direction: column; gap: 12px;
      padding: 5px 0 15px; box-sizing: border-box; overflow: hidden;
    }

    /* --- 1. REHBER PANELƒ∞ (YATAY) --- */
    .contacts-wrapper {
      background: var(--glass); border-radius: 24px; padding: 12px;
      border: 1px solid rgba(255,255,255,0.08); flex-shrink: 0;
    }
    .contacts-title { font-size: 10px; font-weight: 1000; color: rgba(255,255,255,0.4); letter-spacing: 1.5px; margin-bottom: 10px; text-transform: uppercase; }
    
    .contacts-list { display: flex; gap: 12px; overflow-x: auto; scrollbar-width: none; padding-bottom: 5px; }
    .contacts-list::-webkit-scrollbar { display: none; }

    .contact-item {
      flex: 0 0 55px; display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer;
    }
    .contact-avatar {
      width: 48px; height: 48px; border-radius: 16px; background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center;
      font-size: 20px; transition: 0.3s;
    }
    .contact-item:active .contact-avatar { transform: scale(0.9); border-color: #6366f1; }
    .contact-item span { font-size: 9px; font-weight: 800; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%; text-align: center; }

    /* Yeni Ki≈üi Ekleme */
    .add-contact-btn {
      flex: 0 0 48px; height: 48px; border-radius: 16px; border: 2px dashed rgba(255,255,255,0.2);
      display: flex; align-items: center; justify-content: center; cursor: pointer; color: rgba(255,255,255,0.4);
    }

    /* --- 2. AKTƒ∞F TOPLANTI ODASI (CHEVRON DESIGN) --- */
    .room-header {
      background: radial-gradient(circle at top left, rgba(88,12,31,0.2), transparent);
      border-radius: 22px; padding: 12px 18px; border: 1px solid rgba(255,255,255,0.05);
      display: flex; justify-content: space-between; align-items: center;
    }
    .room-id { font-weight: 1000; color: #fff; font-size: 14px; letter-spacing: 1px; }
    .room-status { font-size: 10px; color: #34d399; font-weight: 900; display: flex; align-items: center; gap: 5px; }
    .status-dot { width: 6px; height: 6px; background: #34d399; border-radius: 50%; animation: blink 1s infinite; }

    /* --- 3. NEURAL CHAT WINDOW --- */
    .chat-container {
      flex: 1; background: rgba(0,0,0,0.3); border-radius: 30px;
      border: 1px solid rgba(255,255,255,0.03); overflow-y: auto;
      padding: 15px; display: flex; flex-direction: column; gap: 10px;
      scrollbar-width: none;
    }
    .chat-container::-webkit-scrollbar { display: none; }

    .bubble { max-width: 80%; padding: 12px; border-radius: 20px; position: relative; }
    .bubble.remote { background: rgba(255,255,255,0.06); align-self: flex-start; border-bottom-left-radius: 5px; }
    .bubble.me { background: var(--ai-gradient); align-self: flex-end; border-bottom-right-radius: 5px; color: #fff; }
    
    .sender-name { font-size: 10px; font-weight: 900; color: rgba(165,180,252,1); margin-bottom: 4px; display: block; }
    .msg-txt { font-size: 14px; font-weight: 700; line-height: 1.4; }
    .msg-trans { font-size: 12px; font-weight: 600; opacity: 0.7; margin-top: 6px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 4px; font-style: italic; }

    /* --- 4. MEETING ACTIONS --- */
    .controls {
      display: flex; justify-content: center; gap: 15px; padding: 10px 0; flex-shrink: 0;
    }
    .btn-circle {
      width: 55px; height: 55px; border-radius: 50%; background: rgba(0,0,0,0.5);
      border: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: 0.3s;
    }
    .btn-circle svg { width: 22px; height: 22px; stroke: #fff; fill: none; stroke-width: 2.2; }
    .btn-circle.active { background: #580c1f; border-color: #ff3366; box-shadow: 0 0 20px rgba(255,51,102,0.3); }
    .btn-exit { background: #fff; }
    .btn-exit svg { stroke: #000; }

    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
  </style>
</head>

<body>
  <div id="pageContent">

    <div class="contacts-wrapper">
      <div class="contacts-title">Neural Contacts ‚Ä¢ Rehberin</div>
      <div class="contacts-list" id="contactList">
        <div class="add-contact-btn" id="addNewContact">+</div>
        <div class="contact-item" onclick="sendInvite('Oƒüuz √ñzyiƒüit')">
          <div class="contact-avatar">ü¶Å</div>
          <span>Oƒüuz √ñ.</span>
        </div>
        <div class="contact-item" onclick="sendInvite('Selden √ñzyiƒüit')">
          <div class="contact-avatar">üíé</div>
          <span>Selden √ñ.</span>
        </div>
        <div class="contact-item" onclick="sendInvite('Hans M√ºller')">
          <div class="contact-avatar">üá©üá™</div>
          <span>Hans M.</span>
        </div>
        <div class="contact-item" onclick="sendInvite('Yuki Tanaka')">
          <div class="contact-avatar">üáØüáµ</div>
          <span>Yuki T.</span>
        </div>
        <div class="contact-item" onclick="sendInvite('Elena Petrova')">
          <div class="contact-avatar">üá∑üá∫</div>
          <span>Elena P.</span>
        </div>
      </div>
    </div>

    <div class="room-header">
      <div class="room-id">ROOM: #ITK-77058</div>
      <div class="room-status"><div class="status-dot"></div> 5 KATILIMCI BAƒûLI</div>
    </div>

    <div class="chat-container" id="chatBox">
      <div class="bubble remote">
        <span class="sender-name">HANS M√úLLER</span>
        <div class="msg-txt">Guten Morgen, fangen wir an?</div>
        <div class="msg-trans">G√ºnaydƒ±n, ba≈ülayalƒ±m mƒ±?</div>
      </div>
      
      <div class="bubble me">
        <div class="msg-txt">Evet Hans, ekibi topluyorum.</div>
        <div class="msg-trans">Yes Hans, I'm gathering the team.</div>
      </div>

      <div class="bubble remote">
        <span class="sender-name">YUKI TANAKA</span>
        <div class="msg-txt">ÁßÅ„ÅØÊ∫ñÂÇô„Åå„Åß„Åç„Å¶„ÅÑ„Åæ„Åô„ÄÇ</div>
        <div class="msg-trans">Ben hazƒ±rƒ±m.</div>
      </div>
    </div>

    <div class="controls">
      <div class="btn-circle" id="micBtn">
        <svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/></svg>
      </div>
      <div class="btn-circle" id="speakerBtn">
        <svg viewBox="0 0 24 24"><path d="M11 5L6 9H2v6h4l5 4V5z"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/></svg>
      </div>
      <div class="btn-circle btn-exit" onclick="location.href='/pages/home.html'">
        <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
      </div>
    </div>

  </div>

  <script type="module">
    import { mountShell } from "/js/ui_shell.js";
    import { bootPage } from "/js/ui_guard.js";

    mountShell({ scroll: "none" }); 
    bootPage({ protectedPage:true, header:{ nameId:"userName", picId:"userPic" } });

    // Davet G√∂nderme Sim√ºlasyonu
    window.sendInvite = (name) => {
      alert(name + " toplantƒ±ya davet edildi!");
    };

    // Mic & Speaker Toggle
    document.getElementById('micBtn').onclick = function() { this.classList.toggle('active'); };
    document.getElementById('speakerBtn').onclick = function() { this.classList.toggle('active'); };

    // Yeni Ki≈üi Ekleme (Prompt)
    document.getElementById('addNewContact').onclick = () => {
      const id = prompt("Eklenecek √ºyenin ID numarasƒ±nƒ± girin:");
      if(id) alert(id + " rehberinize eklendi.");
    };
  </script>
</body>
</html>
