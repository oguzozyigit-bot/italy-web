<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI - Ana Menü</title>
  <link rel="icon" href="data:," />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;700;800&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-void: #030014;
      --text-main: #fff;
      --text-muted: rgba(255, 255, 255, 0.60);
      --footerH: 92px;
      --ease-elastic: cubic-bezier(0.34, 1.56, 0.64, 1);
      --glass-border: rgba(255, 255, 255, 0.1);
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    html, body { margin: 0; padding: 0; width: 100%; height: 100%; overflow: hidden; position: fixed; font-family: 'Outfit', sans-serif; background-color: var(--bg-void); color: var(--text-main); display: flex; align-items: center; justify-content: center; }

    /* COSMIC BACKDROP */
    .cosmos-bg { position: absolute; inset: -50%; width: 200%; height: 200%; background: #030014; z-index: 0; pointer-events: none; }
    .orb { position: absolute; border-radius: 50%; filter: blur(90px); opacity: .30; animation: floatOrbit 30s infinite alternate ease-in-out; }
    .orb-1 { top: 10%; left: 10%; width: 60vw; height: 60vw; background: radial-gradient(circle, #4338ca, transparent 70%); }
    .orb-2 { bottom: 10%; right: 10%; width: 50vw; height: 50vw; background: radial-gradient(circle, #5b21b6, transparent 70%); animation-delay: -5s; }
    @keyframes floatOrbit { 0% { transform: translate(0, 0) scale(1); } 100% { transform: translate(10%, -10%) scale(1.1); } }
    .noise { position: absolute; inset: 0; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E"); pointer-events: none; mix-blend-mode: overlay; z-index: 1; }

    /* FRAME */
    .mobile-frame { width: 100%; max-width: 480px; height: 100%; position: relative; z-index: 10; display: flex; flex-direction: column; background: rgba(8, 8, 20, 0.45); backdrop-filter: blur(25px); overflow: hidden; }
    @media (min-width: 520px) { .mobile-frame { height: 92vh; border-radius: 40px; border: 1px solid var(--glass-border); box-shadow: 0 40px 100px -20px rgba(0, 0, 0, 0.9); } }

    /* HEADER */
    .header { flex: 0 0 92px; padding: 0 20px; display: flex; align-items: center; justify-content: space-between; gap: 12px; position: relative; z-index: 100; }
    .mini-brand { display: flex; flex-direction: column; align-items: flex-start; user-select: none; }
    .logo-container { font-family: 'Space Grotesk', sans-serif; font-size: 28px; font-weight: 700; }
    .logo-ai { background: linear-gradient(135deg, #a5b4fc 0%, #6366f1 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .mini-slogan { font-size: 10px; font-weight: 800; color: rgba(255, 255, 255, 0.4); letter-spacing: 4px; margin-top: 4px; }
    .userbox { display: flex; align-items: center; gap: 12px; }
    .usertext { display: flex; flex-direction: column; align-items: flex-end; }
    .uname { font-weight: 800; font-size: 13px; color: #fff; max-width: 120px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .plan { font-weight: 700; font-size: 10px; color: #6366f1; }
    .avatar-link { width: 42px; height: 42px; border-radius: 50%; overflow: hidden; border: 2px solid rgba(99, 102, 241, 0.2); background: rgba(255, 255, 255, 0.05); }
    .avatar-link img { width: 100%; height: 100%; object-fit: cover; }

    /* MENU SCROLL */
    .menu-scroll { flex: 1; overflow-y: auto; padding: 10px 18px 120px; z-index: 5; scrollbar-width: none; }
    .menu-scroll::-webkit-scrollbar { display: none; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; animation: fadeInUp .6s var(--ease-elastic); }

    /* COLORFUL CARDS */
    .card { padding: 20px 15px; border-radius: 24px; background: rgba(255, 255, 255, 0.04); border: 1px solid var(--glass-border); display: flex; flex-direction: column; align-items: center; text-align: center; transition: .2s; cursor: pointer; aspect-ratio: 1/1.1; justify-content: center; position: relative; overflow: hidden; }
    .card:active { transform: scale(0.96); background: rgba(255, 255, 255, 0.08); }
    
    .icon-box { width: 56px; height: 50px; border-radius: 16px; display: flex; align-items: center; justify-content: center; margin-bottom: 12px; position: relative; overflow: hidden; border: 1px solid rgba(255, 255, 255, 0.1); }
    .icon-box svg { width: 26px; height: 26px; stroke: #fff; fill: none; stroke-width: 2.2; z-index: 2; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3)); }
    
    /* İkon Renk Katmanları (Resimdeki gibi) */
    .icon-box::before { content: ""; position: absolute; inset: 0; opacity: 0.8; z-index: 1; }
    .c1 .icon-box::before { background: linear-gradient(135deg, #06b6d4, #8b5cf6); } /* Yüzyüze */
    .c2 .icon-box::before { background: linear-gradient(135deg, #f59e0b, #ec4899); } /* Konuşkan */
    .c3 .icon-box::before { background: linear-gradient(135deg, #3b82f6, #a855f7); } /* Metin */
    .c4 .icon-box::before { background: linear-gradient(135deg, #0ea5e9, #d946ef); } /* Sohbet */
    .c5 .icon-box::before { background: linear-gradient(135deg, #6366f1, #f43f5e); } /* Foto */
    .c6 .icon-box::before { background: linear-gradient(135deg, #8b5cf6, #ec4899); } /* Öğretmen */
    .c7 .icon-box::before { background: linear-gradient(135deg, #14b8a6, #3b82f6); } /* Belge */
    .c8 .icon-box::before { background: linear-gradient(135deg, #facc15, #f97316); } /* Oyun */

    .label { font-size: 15px; font-weight: 800; color: #fff; letter-spacing: -0.3px; }
    .sub { font-size: 11px; color: var(--text-muted); margin-top: 4px; font-weight: 600; line-height: 1.2; }

    /* FOOTER */
    .footerbar { position: absolute; bottom: 0; width: 100%; height: var(--footerH); background: linear-gradient(to top, var(--bg-void) 80%, transparent); backdrop-filter: blur(15px); border-top: 1px solid var(--glass-border); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 200; }
    .links { display: flex; gap: 20px; margin-bottom: 8px; }
    .links a { font-size: 11px; font-weight: 700; color: rgba(255, 255, 255, 0.4); text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px; }
    .footerBrand { font-size: 10px; color: rgba(255, 255, 255, 0.15); font-weight: 700; }

    @keyframes fadeInUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
  </style>
</head>
<body>
  <div class="cosmos-bg"><div class="orb orb-1"></div><div class="orb orb-2"></div></div>
  <div class="noise"></div>
  <div class="mobile-frame">
    <div class="header">
      <div class="mini-brand">
        <div class="logo-container">italky<span class="logo-ai">AI</span></div>
        <div class="mini-slogan">BE FREE</div>
      </div>
      <div class="userbox">
        <div class="usertext">
          <div class="uname" id="userName">Yükleniyor...</div>
          <div class="plan" id="userPlan">FREE</div>
        </div>
        <a href="/pages/profile.html" class="avatar-link" id="avatarBtn">
          <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" id="userPic" alt="U">
        </a>
      </div>
    </div>

    <div class="menu-scroll">
      <div class="grid">
        <div class="card c1" onclick="location.href='/pages/facetoface.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg></div>
          <div class="label" data-i18n="home_face_to_face">Yüzyüze Çeviri</div>
          <div class="sub" data-i18n="home_live_translate">Hızlı Çeviri</div>
        </div>

        <div class="card c2" onclick="location.href='/pages/voice_ai.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg></div>
          <div class="label" data-i18n="home_talk_ai">Konuşkan AI</div>
          <div class="sub" data-i18n="home_assistant">Yapay Zeka İle Konuş</div>
        </div>

        <div class="card c3" onclick="location.href='/pages/text_translate.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M4 7h16M4 12h16M4 17h10"/></svg></div>
          <div class="label" data-i18n="home_text_translate">Metinden Çeviri</div>
          <div class="sub" data-i18n="home_text_translate_sub">Yaz, Yapıştır, Çevir</div>
        </div>

        <div class="card c4" onclick="location.href='/pages/chat.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 1 1-7.6-13.5 8.38 8.38 0 0 1 3.8.9L21 3z"/></svg></div>
          <div class="label" data-i18n="home_chat_ai">Sohbet AI</div>
          <div class="sub" data-i18n="home_assistant">Yapay Zeka İle Sohbet Et</div>
        </div>

        <div class="card c5" onclick="location.href='/pages/photo.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/><circle cx="12" cy="13" r="4"/></svg></div>
          <div class="label" data-i18n="home_photo_translate">Fotoğraftan Çeviri</div>
          <div class="sub" data-i18n="home_overlay_translate">Göster fotoğrafı çevirsin</div>
        </div>

        <div class="card c6" onclick="location.href='/pages/teachers.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg></div>
          <div class="label" data-i18n="home_teacher">Öğretmen AI</div>
          <div class="sub" data-i18n="home_pronounce_lessons">Dil Öğretmenleri</div>
        </div>

        <div class="card c7" onclick="location.href='/pages/document.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg></div>
          <div class="label" data-i18n="home_document_translate">Belgeden Çeviri</div>
          <div class="sub" data-i18n="home_pdf_camera">Yükle tara çevir</div>
        </div>

        <div class="card c8" onclick="location.href='/pages/game.html'">
          <div class="icon-box"><svg viewBox="0 0 24 24"><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M6 12h4M8 10v4"/><circle cx="15" cy="11" r="1"/><circle cx="18" cy="13" r="1"/></svg></div>
          <div class="label" data-i18n="home_learn_fun">Oyunlar</div>
          <div class="sub" data-i18n="home_games_quiz">Eğlenerek öğren</div>
        </div>
      </div>
    </div>

    <div class="footerbar">
      <div class="links">
        <a href="/pages/about.html" data-i18n="nav_about">Hakkımızda</a>
        <a href="/pages/faq.html" data-i18n="nav_faq">SSS</a>
        <a href="/pages/privacy.html" data-i18n="nav_privacy">Gizlilik</a>
        <a href="/pages/contact.html" data-i18n="nav_contact">İletişim</a>
      </div>
      <div class="footerBrand">italkyAI By Ozyigit’s 2026</div>
    </div>
  </div>

  <script type="module">
    import { STORAGE_KEY } from "/js/config.js";
    import { applyI18n, t } from "/js/i18n.js";

    function requireLogin() {
      const raw = localStorage.getItem(STORAGE_KEY);
      if(!raw) { window.location.replace("/index.html"); return null; }
      try {
        const u = JSON.parse(raw);
        if(!u?.email) {
          localStorage.removeItem(STORAGE_KEY);
          window.location.replace("/index.html");
          return null;
        }
        return u;
      } catch {
        window.location.replace("/index.html");
        return null;
      }
    }

    function fillUser(u) {
      document.getElementById("userName").textContent = u.name || u.fullname || "Kullanıcı";
      document.getElementById("userPlan").textContent = (u.plan || "FREE").toUpperCase();
      if (u.picture || u.avatar) document.getElementById("userPic").src = u.picture || u.avatar;
    }

    function boot() {
      applyI18n(document);
      document.title = t("home_title");
      const u = requireLogin();
      if(!u) return;
      fillUser(u);
    }

    boot();

    window.addEventListener("storage", (e) => {
      if(e.key === "italky_site_lang_v1" || e.key === "italky_lang_ping") {
        try {
          applyI18n(document);
          document.title = t("home_title");
        } catch {}
      }
    });
  </script>
</body>
</html>
