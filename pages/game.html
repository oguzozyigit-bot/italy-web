<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>italkyAI • Oyunlar</title>
  <link rel="icon" href="data:," />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800;900&family=Space+Grotesk:wght@700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg-void: #02000f;
      --text-main: #fff;
      --text-muted: rgba(255, 255, 255, 0.60);
      --glass: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.12);
      --ai-grad: linear-gradient(135deg, #a5b4fc 0%, #6366f1 100%);
      --topH: 74px;
      --footerH: 74px;
    }

    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; }
    html, body { margin: 0; padding: 0; width: 100%; height: 100dvh; overflow: hidden; position: fixed; font-family: 'Outfit', sans-serif; background: var(--bg-void); color: var(--text-main); }

    /* ====== COSMIC BACKDROP ====== */
    .nebula-bg { position: absolute; inset: -10%; width: 120%; height: 120%; background: radial-gradient(circle at 20% 20%, rgba(79, 70, 229, 0.4) 0%, transparent 40%), radial-gradient(circle at 80% 80%, rgba(168, 85, 247, 0.3) 0%, transparent 40%), radial-gradient(circle at 50% 50%, rgba(30, 0, 60, 1) 0%, #02000f 100%); filter: blur(60px); z-index: 0; animation: nebulaPulse 15s infinite alternate ease-in-out; }
    @keyframes nebulaPulse { from { transform: scale(1); } to { transform: scale(1.1); } }
    .stars-field { position: absolute; inset: 0; background: url("https://www.transparenttextures.com/patterns/stardust.png"); opacity: 0.4; z-index: 1; pointer-events: none; }

    .mobile-frame { width: 100%; max-width: 480px; height: 100%; position: relative; z-index: 10; background: rgba(8, 8, 20, 0.45); backdrop-filter: blur(30px); overflow: hidden; display: flex; flex-direction: column; min-height: 0; }
    @media(min-width:520px){ .mobile-frame{ height:92vh; border-radius:40px; border: 1px solid var(--glass-border); box-shadow:0 40px 100px -20px rgba(0,0,0,0.9); } }

    /* ====== TOPBAR (Kullanıcı Bilgileri Sabitlendi) ====== */
    .topbar { height: var(--topH); display: flex; align-items: center; justify-content: space-between; padding: 0 16px; border-bottom: 1px solid var(--glass-border); background: rgba(0,0,0,0.3); backdrop-filter: blur(12px); flex: 0 0 auto; z-index: 100; }
    .leftControls { display: flex; align-items: center; gap: 12px; }
    .backBtn { width: 42px; height: 42px; border-radius: 14px; border: 1px solid var(--glass-border); background: var(--glass); color: #fff; font-size: 20px; display: flex; align-items: center; justify-content: center; cursor: pointer; }
    
    .mini-brand { display: flex; flex-direction: column; cursor: pointer; }
    .logo-line { font-family: 'Space Grotesk', sans-serif; font-size: 22px; font-weight: 700; }
    .logo-ai { background: var(--ai-grad); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 8px rgba(99, 102, 241, 0.4)); }

    .userbox { display: flex; align-items: center; gap: 10px; }
    .usertext { display: flex; flex-direction: column; align-items: flex-end; line-height: 1.1; }
    .uname { font-weight: 900; font-size: 13px; color: #fff; max-width: 110px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    .plan { font-weight: 950; font-size: 10px; color: #a5b4fc; text-transform: uppercase; }
    .avatar-link { width: 38px; height: 38px; border-radius: 50%; border: 2px solid #6366f1; overflow: hidden; background: #222; cursor: pointer; box-shadow: 0 0 10px rgba(99, 102, 241, 0.4); }
    .avatar-link img { width: 100%; height: 100%; object-fit: cover; }

    /* ====== KARTLAR (Türkçe & Neşeli) ====== */
    .main { flex: 1; overflow-y: auto; padding: 16px; scrollbar-width: none; -webkit-overflow-scrolling: touch; }
    .main::-webkit-scrollbar { display: none; }

    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    .card { 
      position: relative; border-radius: 32px; border: 1px solid var(--glass-border); 
      background: rgba(255,255,255,0.03); padding: 24px 14px; min-height: 200px;
      display: flex; flex-direction: column; align-items: center; text-align: center;
      transition: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); overflow: hidden;
    }
    .card:active { transform: scale(0.94) translateY(5px); }
    
    .card .icon { 
      width: 68px; height: 60px; border-radius: 22px; margin-bottom: 16px;
      display: flex; align-items: center; justify-content: center;
      position: relative; overflow: hidden; font-size: 28px; z-index: 2;
      box-shadow: 0 10px 20px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.15);
    }

    /* Oyun Türlerine Göre Renkler */
    .card-hangman .icon { background: linear-gradient(135deg, #FF3CAC 0%, #784BA0 50%, #2B86C5 100%); }
    .card-word_combine .icon { background: linear-gradient(135deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%); }
    .card-quiz .icon { background: linear-gradient(135deg, #00DBDE 0%, #FC00FF 100%); }
    .card-matching .icon { background: linear-gradient(135deg, #FA8BFF 0%, #2BD2FF 52%, #2BFF88 90%); }

    .card .name { font-weight: 900; font-size: 16px; margin-bottom: 6px; color: #fff; letter-spacing: -0.3px; }
    .card .desc { font-size: 11px; color: var(--text-muted); font-weight: 600; line-height: 1.4; }
    
    .metaRow { margin-top: auto; padding-top: 14px; display: flex; gap: 6px; justify-content: center; }
    .tag { padding: 5px 12px; border-radius: 999px; font-size: 10px; font-weight: 900; text-transform: uppercase; background: rgba(0,0,0,0.4); border: 1px solid var(--glass-border); color: #fff; }

    /* ====== FOOTER ====== */
    .footerbar { height: var(--footerH); border-top: 1px solid var(--glass-border); background: rgba(3, 0, 20, 0.95); display: flex; align-items: center; justify-content: center; z-index: 200; }
    .prestige-signature { font-size: 12px; font-weight: 900; letter-spacing: 2px; background: linear-gradient(to right, #fff, #6366f1, #fff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 0 10px rgba(99, 102, 241, 0.6)); }
  </style>
</head>

<body>
  <div class="nebula-bg"></div>
  <div class="stars-field"></div>

  <div class="mobile-frame">
    <header class="topbar">
      <div class="leftControls">
        <button class="backBtn" id="backBtn">←</button>
        <div class="mini-brand" id="logoHome">
          <div class="logo-line">italky<span class="logo-ai">AI</span></div>
          <div class="logo-slogan">BE FREE</div>
        </div>
      </div>
      <div class="userbox">
        <div class="usertext">
          <span class="uname" id="userName">Kullanıcı</span>
          <span class="plan" id="userPlan">FREE</span>
        </div>
        <a href="/pages/profile.html" class="avatar-link" id="avatarBtn">
          <img src="" id="userPic" alt="">
        </a>
      </div>
    </header>

    <main class="main">
      <div class="grid" id="gameGrid">
        </div>
    </main>

    <footer class="footerbar">
      <div class="prestige-signature">italkyAI By Ozyigit’s 2026</div>
    </footer>
  </div>

  <script type="module">
    import { STORAGE_KEY } from "/js/config.js";

    function fillUser() {
      const raw = localStorage.getItem(STORAGE_KEY);
      if(raw) {
        const u = JSON.parse(raw);
        document.getElementById("userName").textContent = u.name || u.fullname || "Kullanıcı";
        document.getElementById("userPlan").textContent = (u.plan || "FREE").toUpperCase();
        if(u.picture || u.avatar) {
          document.getElementById("userPic").src = u.picture || u.avatar;
        }
      }
    }

    fillUser();
    
    document.getElementById('backBtn').onclick = () => history.back();
    document.getElementById('logoHome').onclick = () => window.location.href = '/pages/home.html';
  </script>
  <script type="module" src="/js/game_page.js?v=1.2"></script>
</body>
</html>
