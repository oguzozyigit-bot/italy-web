<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
<title>italkyAI • Casus Kim?</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#02000f; --radar:#00ffd5; --danger:#ff2456; --ok:#00ff9d; --gold:#ffcc33;
    --grad: linear-gradient(135deg,#a5b4fc 0%, #6366f1 55%, #ec4899 100%);
    --bd: rgba(255,255,255,0.10);
  }
  *{ box-sizing:border-box; -webkit-tap-highlight-color:transparent; user-select:none; }
  html,body{ margin:0; width:100%; height:100%; background:var(--bg); color:#fff; font-family:Outfit,sans-serif; overflow:hidden; }
  .wrap{ height:100dvh; display:flex; flex-direction:column; gap:12px; padding:12px; }
  .hud{ display:flex; align-items:center; justify-content:space-between; padding: 10px 12px; border-radius: 18px; border: 1px solid var(--bd); background: rgba(0,0,0,0.18); backdrop-filter: blur(12px); }
  .score{ font-family: "Share Tech Mono"; font-size: 22px; color: var(--radar); }
  .main{ flex:1; border-radius: 22px; border: 1px solid var(--bd); background: rgba(255,255,255,0.03); padding: 14px; display:flex; flex-direction:column; gap:12px; }
  .radarBox{ width: 180px; height: 180px; margin: 0 auto; border-radius: 50%; border: 1px solid rgba(0,255,213,.32); position: relative; overflow:hidden; }
  .scan{ position:absolute; inset:-30%; background: conic-gradient(from 0deg, transparent 0deg, rgba(0,255,213,.22) 70deg, transparent 120deg); animation: spin 3.8s linear infinite; }
  @keyframes spin{ to{ transform: rotate(360deg);} }
  .listenBtn{ height: 56px; border-radius: 18px; border: 1px solid var(--radar); background: rgba(0,0,0,0.25); color: var(--radar); font-weight: 900; cursor:pointer; }
  .opt{ padding: 14px; border-radius: 16px; border: 1px solid var(--bd); background: rgba(0,0,0,0.22); text-align:center; cursor:pointer; margin-bottom:8px; font-weight: 600; }
  .opt.correct{ border-color: var(--ok); color: var(--ok); }
  .opt.wrong{ border-color: var(--danger); color: var(--danger); }
  .modal{ position: fixed; inset: 0; display:none; align-items:center; justify-content:center; background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); z-index: 100; }
  .modal.show{ display:flex; }
  .card{ width: 90%; max-width: 400px; background: #111; padding: 20px; border-radius: 20px; border: 1px solid var(--radar); text-align:center; }
  .mainBtn{ width:100%; height: 50px; border-radius: 12px; border:none; background: var(--grad); color:#000; font-weight:900; cursor:pointer; margin-top:10px; }
</style>
</head>
<body>

<div class="wrap">
  <div class="hud">
    <div><div class="score" id="scoreDisp">0</div><div style="font-size:10px">SKOR</div></div>
    <div style="text-align:center"><b style="font-size:14px">AUDIO SPY</b><br><small id="langDisp">EN • TR</small></div>
    <div id="livesDisp">❤️❤️❤️</div>
  </div>

  <div class="main">
    <div class="radarBox" id="radar">
      <div class="scan"></div>
    </div>
    <button class="listenBtn" id="listenBtn">▶ SİNYALİ DİNLE</button>
    <div id="optionsArea"></div>
    <div id="momDisp" style="text-align:center; color:var(--ok); font-size:12px;">x1.00 MOMENTUM</div>
  </div>
</div>

<div class="modal show" id="startModal">
  <div class="card">
    <h2 style="color:var(--radar)">SİSTEM HAZIR</h2>
    <p>Sinyali dinle ve doğru Türkçe karşılığı bul.</p>
    <button class="mainBtn" id="startBtn">SİSTEMİ BAOT ET</button>
  </div>
</div>

<script>
const $ = (id) => document.getElementById(id);

// Örnek Veri Seti (Sistem çalışınca bunlar yüklenecek)
const pool = [
  {w: "Apple", tr: "Elma", s: "I like to eat an apple."},
  {w: "Blue", tr: "Mavi", s: "The sky is blue today."},
  {w: "Run", tr: "Koşmak", s: "You should run faster."},
  {w: "Water", tr: "Su", s: "I need to drink some water."},
  {w: "School", tr: "Okul", s: "The school is very big."},
  {w: "Book", tr: "Kitap", s: "Read this book."}
];

let currentWord = null;
let score = 0;
let lives = 3;
let momentum = 1.0;

function speak(text) {
  window.speechSynthesis.cancel();
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = 'en-US';
  window.speechSynthesis.speak(utter);
}

function nextQuestion() {
  if(lives <= 0) {
    alert("Oyun Bitti! Skorun: " + score);
    location.reload();
    return;
  }

  currentWord = pool[Math.floor(Math.random() * pool.length)];
  const options = [currentWord.tr];
  
  while(options.length < 4) {
    let r = pool[Math.floor(Math.random() * pool.length)].tr;
    if(!options.includes(r)) options.push(r);
  }
  options.sort(() => Math.random() - 0.5);

  $("optionsArea").innerHTML = "";
  options.forEach(opt => {
    const div = document.createElement("div");
    div.className = "opt";
    div.textContent = opt;
    div.onclick = () => checkAnswer(div, opt);
    $("optionsArea").appendChild(div);
  });
}

function checkAnswer(el, val) {
  if(val === currentWord.tr) {
    el.classList.add("correct");
    score += Math.round(100 * momentum);
    momentum += 0.1;
    setTimeout(nextQuestion, 1000);
  } else {
    el.classList.add("wrong");
    lives--;
    momentum = 1.0;
    setTimeout(nextQuestion, 1000);
  }
  updateUI();
}

function updateUI() {
  $("scoreDisp").textContent = score;
  $("livesDisp").textContent = "❤️".repeat(lives);
  $("momDisp").textContent = `x${momentum.toFixed(2)} MOMENTUM`;
}

$("startBtn").onclick = () => {
  $("startModal").classList.remove("show");
  nextQuestion();
};

$("listenBtn").onclick = () => {
  if(currentWord) speak(currentWord.s);
};
</script>
</body>
</html>
